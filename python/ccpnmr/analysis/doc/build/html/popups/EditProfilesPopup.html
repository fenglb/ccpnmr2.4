

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Project : Preferences : User Options &mdash; CcpNmr Analysis v2.3.0 documentation</title>
    <link rel="stylesheet" href="../_static/ccpn.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '2.3.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="author" title="About these documents" href="../about.html" />
    <link rel="top" title="CcpNmr Analysis v2.3.0 documentation" href="../index.html" />
    <link rel="up" title="Macro" href="../menu/Macro.html" />
    <link rel="next" title="Other" href="../menu/Other.html" />
    <link rel="prev" title="Macro" href="../menu/Macro.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="../menu/Other.html" title="Other"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="../menu/Macro.html" title="Macro"
             accesskey="P">previous</a> |</li>
        <li><a href="../index.html">CcpNmr Analysis v2.3.0 documentation</a> &raquo;</li>
          <li><a href="../analysisDoc.html" >Program Documentation</a> &raquo;</li>
          <li><a href="../menu/Macro.html" accesskey="U">Macro</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="project-preferences-user-options">
<h1>Project : Preferences : User Options<a class="headerlink" href="#project-preferences-user-options" title="Permalink to this headline">¶</a></h1>
<p><strong>Edit User-Specific Profiles and Macros</strong></p>
<p>This popup window is used to control various settings that are stored as a
user-specific profile. Typically this data is stored in the .ccpn/
sub-directory of the users home directory and not in any particular CCPN
project, although the information is saved whenever a project is. The same
profile data will be used when any CCPN project is opened by the user
as long as they have the same home directory.</p>
<p>Several kinds of information are stored in the user profile and currently these
can be grouped into four categories: general options for control and graphical
display in Analysis; &#8220;Macros&#8221;, which represent Python scripts to add extra
functionality; customisable residue codes and customisable colour schemes.</p>
<p><strong>Main Options</strong></p>
<p>This tab controls the selection of the current user-specific profile for
Analysis; one will always be present, but the user can make as many as
required and swap between them using the pulldown menu. It should be noted that
if the selected profile is changed the effect will not be apparent unless the
CCPN project is saved and Analysis is restarted.</p>
<p>Various profile parameters are listed in the main table and the user can
adjust these to suit personal preference by double clicking in the &#8220;value&#8221;
column. The details of the settings are described in the last column. Perhaps
the most notable setting in this panel is the &#8220;Graphics Handler&#8221;, which
controls what technology is used for the drawing of contours in  spectrum
windows. Although the &#8220;Tk&#8221; setting  is perhaps more reliable overall the
&#8220;OpenGL&#8221; option can be much faster for drawing spectra, especially if the
computer has a good graphics card and hardware linked OpenGL driver software
(typically from NVidia or ATI).</p>
<p><strong>Macros</strong></p>
<p>The Macros tab lists all of the Python scripts that are available to run as
in-program commands. These will include number of pre-defined, inbuilt
commands and any user-specific scripts that extend the functionality of
Analysis. All of the inbuilt macro scripts are associated with a keyboard
shortcut (editable via the &#8220;Shortcut&#8221; column). Indeed, listing these commonly
used commands as macros provides the mechanism by which the editable Analysis
keyboard shortcuts are handled in general.</p>
<p>Analysis macro scripts are functions written the the Python programming
language. They are normal Python functions, but they must be able to operate
with one mandatory input argument &#8220;argServer&#8221;. This input is a Python object
of the ccpnmr.analysis.macros.ArgumentServer class and serves to link the
Python function with the Analysis program, to give access to the CCPN
project data and the Analysis graphical interface.</p>
<p>All macros are available for execution (being run) via the main &#8220;Macros&#8221; table
but they may also be entered in to the &#8220;Macro&#8221; sections of the main Analysis
menu and the right-mouse spectrum window menu. To place a macro script in the
menus the user needs to toggle the &#8220;In ... menu?&#8221; columns to &#8220;Yes&#8221;. Any script
that requires access to a particular position in a spectrum, recorded when the
right-mouse menu opens, will only be able to use that point if the macro is in
the spectrum window menu; the main menu and macro table have no concept of
current position.&#8221;</p>
<p>New macros can be added to the current profile (and hence project) via the
[Add Macro] function. This will open a file browser that the user can use to
find a Python file, and then the Python function within that file to load as a
macro script. See the <a class="reference external" href="OpenMacroPopup.html">Open Macro</a> documentation for more information. Note
that the script itself is not stored inside the CCPN project or profile. By
adding a macro the user is merely locating the required Python function on
disk; the actual code remains at its original file location. If a macro&#8217;s
Python code is moved to a different location on disk the script will no longer
be executable by CCPN. Under such circumstances however, the old macro (and
hence recorded location) can be removed and a fresh one put in its place. If
the contents of a macros code have changed on disk since it was last executed
(in the current Analysis session) then the user may reload the macro so that
it is using the newest version. This mechanism provides a convenient way of
developing and debugging CCPN Python scripts without having to restart
Analysis each time.</p>
<p>Note that macros with names that are identical to existing, inbuilt Python
functions should be avoided, e.g. &#8220;math&#8221;, &#8220;test&#8221;, &#8220;copy&#8221; etc. In any case using
more verbose but descriptive function names is recommended. In in doubt about
whether a function name is in use the user can issue an &#8220;import&#8221; command at the
Python prompt to check.</p>
<p><strong>Residue Codes</strong></p>
<p>This section allows the user to customise how residue (chemical compound) &#8220;Ccp&#8221;
codes are displayed in a Analysis. For example if a residue code like
&#8220;dglc-hex-1-5&#8221; (glucose) is too long a shorter alternative can be provided
e.g. &#8220;Gluc&#8221;. By default all profiles map the DNA and RNA codes to three-letter
forms like &#8220;Ade&#8221;, &#8220;Cyt&#8221;, even though the actual underlying Ccp codes are
single letters (&#8220;A&#8221;, &#8220;C&#8221;).</p>
<p>To change how a particular kind of residue is represented the use selects the
appropriate biopolymer type in the upper pulldown menu, then double clicks to
edit the &#8220;User GUI Code&#8221; column of the table. Note that the existing textual
peak annotations in the spectrum displays will not change until the [Update
Peak Annotation] button is pressed; this can be slow if there are many peaks
in the project.</p>
<p><strong>Colour Schemes</strong></p>
<p>This section allows the user to define new named colours and colour schemes.
In this system a single colour like &#8220;red&#8221; is still stored as a colour scheme
although it only has a single colour specification. The existing colour
schemes  are listed in the upper table and they may be copied and deleted.
Clicking on a scheme in the upper table lists its component colours in the
lower table. It should be noted that deleting a colour scheme that is still in
use will not effect anything that uses those colours in Analysis, but that
colour scheme name will not appear when setting any colours in the future.</p>
<p>New colour schemes may be created via duplication or [Create]: to start this
makes a simple scheme with three colours. Colours may be added to a scheme by
clicking [Add] and then double clicking to set the &#8220;Colour&#8221; column. Colours
may be changed and removed at any time, but such changes will not effect
anything existing in Analysis; a scheme is merely used to set colours, and no
active link is maintained.</p>
<p>To assist with arranging multi-colour schemes, there are several functions
below the lower table. These allow the user to move the selected colour
within  its scheme, i.e to the top, bottom, up one place and down one place.
To create schemes with a gradient of colours the [Smooth] function so that
there is a smooth transition between the first and last colours of a selection.
Selection multiple colours in a scheme can be done using left mouse-click with
the &lt;Shift&gt; key.</p>
<div class="section" id="main-panel">
<h2>Main Panel<a class="headerlink" href="#main-panel" title="Permalink to this headline">¶</a></h2>
<p><img align="bottom" alt="button" class="align-bottom" src="../_images/button.png" /> <strong>Clone</strong>: Clone popup window</p>
<p><img align="bottom" alt="button" class="align-bottom" src="../_images/button.png" /> <strong>Help</strong>: Show popup help document</p>
<p><img align="bottom" alt="button" class="align-bottom" src="../_images/button.png" /> <strong>Close</strong>: Close popup</p>
</div>
<div class="section" id="main-options">
<h2>Main Options<a class="headerlink" href="#main-options" title="Permalink to this headline">¶</a></h2>
<p>A table of the main program-wide user options affecting behaviour and appearance</p>
<p><img align="bottom" alt="pulldown" class="align-bottom" src="../_images/pulldown.png" /> <strong>Current Analysis Profile</strong>: Selects which set of profile settings to use</p>
<p><img align="bottom" alt="button" class="align-bottom" src="../_images/button.png" /> <strong>Copy</strong>: Copy the currently displayed profile settings into a differently named set</p>
<p><img align="bottom" alt="button" class="align-bottom" src="../_images/button.png" /> <strong>New</strong>: Make an entirely new group of profile settings, with default values</p>
<p><img align="bottom" alt="button" class="align-bottom" src="../_images/button.png" /> <strong>Delete</strong>: Delete the currently viewed set of profiles, if there is more than one available</p>
<table border="1" class="docutils">
<colgroup>
<col width="14%" />
<col width="86%" />
</colgroup>
<tbody valign="top">
<tr><td colspan="2"><strong>Table 1</strong></td>
</tr>
<tr><td><em>Parameter</em></td>
<td>The short name of the parameter that the user may set a value for</td>
</tr>
<tr><td><em>Value</em></td>
<td>The current value associated with a parameter in the selected profile  <em>(Editable)</em></td>
</tr>
<tr><td><em>Description</em></td>
<td>A description of what the setting is for</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="macros">
<h2>Macros<a class="headerlink" href="#macros" title="Permalink to this headline">¶</a></h2>
<p>A table of all of the Python macro scripts known to the project</p>
<table border="1" class="docutils">
<colgroup>
<col width="9%" />
<col width="91%" />
</colgroup>
<tbody valign="top">
<tr><td colspan="2"><strong>Table 2</strong></td>
</tr>
<tr><td><em>#</em></td>
<td>The serial number of the macro, within the current profile</td>
</tr>
<tr><td><em>Name</em></td>
<td>A short textual name for the macro script which will appear in menus  <em>(Editable)</em></td>
</tr>
<tr><td><em>Shortcut</em></td>
<td>The keyboard shortcut used to invoke this macro function  <em>(Editable)</em></td>
</tr>
<tr><td><em>In main menu?</em></td>
<td>Whether the macro is visible and callable from the &#8220;Macro&#8221; section of the main menu  <em>(Editable)</em></td>
</tr>
<tr><td><em>In mouse menu?</em></td>
<td>Whether the macro is visible and callable from the right-mouse-button spectrum window menu; required for macros that use spectru, coordinates etc.  <em>(Editable)</em></td>
</tr>
<tr><td><em>Priority</em></td>
<td>A priority based raking of macros to enable use-configurable sorting and grouping  <em>(Editable)</em></td>
</tr>
<tr><td><em>Module</em></td>
<td>The name of the Python module in which the macro (a Python function) resides</td>
</tr>
<tr><td><em>Function</em></td>
<td>The name of the Python function, as found in its module, which the macro specification loads and calls</td>
</tr>
<tr><td><em>Path</em></td>
<td>The location on disk of the Python module that contains the macro function</td>
</tr>
</tbody>
</table>
<p><img align="bottom" alt="button" class="align-bottom" src="../_images/button.png" /> <strong>Reload</strong>: Reload the selected macro function; attempts to re-import the Python module</p>
<p><img align="bottom" alt="button" class="align-bottom" src="../_images/button.png" /> <strong>Run</strong>: Execute the selected macro</p>
<p><img align="bottom" alt="button" class="align-bottom" src="../_images/button.png" /> <strong>Remove Macro</strong>: Removes the record of the macro function from the current profile; any Python code on disk is preserved</p>
<p><img align="bottom" alt="button" class="align-bottom" src="../_images/button.png" /> <strong>Add Macro</strong>: Add a new macro function to the current profile by finding a Python module and file on disk</p>
</div>
<div class="section" id="residue-codes">
<h2>Residue Codes<a class="headerlink" href="#residue-codes" title="Permalink to this headline">¶</a></h2>
<p>A table of user-specific mappings of residue codes, e.g. DNA &#8220;A&#8221; -&gt; &#8220;Ade&#8221;</p>
<p><img align="bottom" alt="pulldown" class="align-bottom" src="../_images/pulldown.png" /> <strong>Molecule Type</strong>: Selects which kind of bio-polymer residues to display codes for</p>
<table border="1" class="docutils">
<colgroup>
<col width="21%" />
<col width="79%" />
</colgroup>
<tbody valign="top">
<tr><td colspan="2"><strong>Table 3</strong></td>
</tr>
<tr><td><em>Internal Ccp Code</em></td>
<td>The official CCPN code for the residue</td>
</tr>
<tr><td><em>User GUI Code</em></td>
<td>A user-configurable alternative residue code, if required  <em>(Editable)</em></td>
</tr>
</tbody>
</table>
<p><img align="bottom" alt="button" class="align-bottom" src="../_images/button.png" /> <strong>Update Peak Annotations</strong>: Manually trigger a complete update of all on-spectrum peak annotations in light of any residue code changes</p>
</div>
<div class="section" id="colour-schemes">
<h2>Colour Schemes<a class="headerlink" href="#colour-schemes" title="Permalink to this headline">¶</a></h2>
<p>A system to edit and create the colour schemes used at various points in Analysis</p>
<table border="1" class="docutils">
<colgroup>
<col width="19%" />
<col width="81%" />
</colgroup>
<tbody valign="top">
<tr><td colspan="2"><strong>Table 4</strong></td>
</tr>
<tr><td><em>#</em></td>
<td>Row number</td>
</tr>
<tr><td><em>Scheme Name</em></td>
<td>Name of the colour scheme, for selection within menus etc.</td>
</tr>
<tr><td><em>Number of Colours</em></td>
<td>Number of colours in the scheme; single colours are a scheme of one</td>
</tr>
</tbody>
</table>
<p><img align="bottom" alt="button" class="align-bottom" src="../_images/button.png" /> <strong>Create</strong>: Create a new color scheme; the user is prompted for a name</p>
<p><img align="bottom" alt="button" class="align-bottom" src="../_images/button.png" /> <strong>Copy</strong>: Create a new color scheme by copying the selected scheme; the user is prompted for a name for the copy</p>
<p><img align="bottom" alt="button" class="align-bottom" src="../_images/button.png" /> <strong>Delete</strong>: Delete the currently selected colour scheme; does not effect anything that used the scheme, but the scheme will not appear as an option</p>
<div class="section" id="scheme-colours">
<h3>Scheme Colours<a class="headerlink" href="#scheme-colours" title="Permalink to this headline">¶</a></h3>
<table border="1" class="docutils">
<colgroup>
<col width="8%" />
<col width="92%" />
</colgroup>
<tbody valign="top">
<tr><td colspan="2"><strong>Table 5</strong></td>
</tr>
<tr><td><em>#</em></td>
<td>The number of the colour within the scheme</td>
</tr>
<tr><td><em>Colour</em></td>
<td>The hexadecimal red-green-blue color name of the form &#8220;#RRGGBB&#8221;, selectable using pre-defined colour names  <em>(Editable)</em></td>
</tr>
<tr><td><em>R</em></td>
<td>The fractional red component of the colour, rounded to give the nearest whole number in hexadecimal representation  <em>(Editable)</em></td>
</tr>
<tr><td><em>G</em></td>
<td>The fractional green component of the colour, rounded to give the nearest whole number in hexadecimal representation  <em>(Editable)</em></td>
</tr>
<tr><td><em>B</em></td>
<td>The fractional blue component of the colour, rounded to give the nearest whole number in hexadecimal representation  <em>(Editable)</em></td>
</tr>
<tr><td><em>H</em></td>
<td>The hue value of the colour, rounded to give the nearest whole number in hexadecimal representation  <em>(Editable)</em></td>
</tr>
<tr><td><em>S</em></td>
<td>The saturation level of the colour, rounded to give the nearest whole number in hexadecimal representation  <em>(Editable)</em></td>
</tr>
<tr><td><em>V</em></td>
<td>The brightness value of the colour, rounded to give the nearest whole number in hexadecimal representation  <em>(Editable)</em></td>
</tr>
</tbody>
</table>
<p><img align="bottom" alt="button" class="align-bottom" src="../_images/button.png" /> <strong>Add</strong>: Add a new colour element to the current scheme, defaults to black but can be changed</p>
<p><img align="bottom" alt="button" class="align-bottom" src="../_images/button.png" /> <strong>Delete</strong>: Delete the selected colour element from the current scheme</p>
<p><img align="bottom" alt="button" class="align-bottom" src="../_images/button.png" /> <strong>Smooth</strong>: Make a smooth colour transition between the first and last colour elements selected by the user in the table</p>
<p><img align="bottom" alt="button" class="align-bottom" src="../_images/button.png" /> <strong>Reverse</strong>: Reverse the order of the colour elements in the scheme</p>
<p><img align="bottom" alt="button" class="align-bottom" src="../_images/button.png" /> <strong>Top</strong>: Move the selects colour element to be first in the scheme</p>
<p><img align="bottom" alt="button" class="align-bottom" src="../_images/button.png" /> <strong>Bottom</strong>: Move the selects colour element to be last in the scheme</p>
<p><img align="bottom" alt="button" class="align-bottom" src="../_images/button.png" /> <strong>Up</strong>: Move the selects colour element one place earlier in the scheme</p>
<p><img align="bottom" alt="button" class="align-bottom" src="../_images/button.png" /> <strong>Down</strong>: Move the selects colour element one place later in the scheme</p>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="../index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Project : Preferences : User Options</a><ul>
<li><a class="reference internal" href="#main-panel">Main Panel</a></li>
<li><a class="reference internal" href="#main-options">Main Options</a></li>
<li><a class="reference internal" href="#macros">Macros</a></li>
<li><a class="reference internal" href="#residue-codes">Residue Codes</a></li>
<li><a class="reference internal" href="#colour-schemes">Colour Schemes</a><ul>
<li><a class="reference internal" href="#scheme-colours">Scheme Colours</a></li>
</ul>
</li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="../menu/Macro.html"
                        title="previous chapter">Macro</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="../menu/Other.html"
                        title="next chapter">Other</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="../_sources/popups/EditProfilesPopup.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" size="18" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="../menu/Other.html" title="Other"
             >next</a> |</li>
        <li class="right" >
          <a href="../menu/Macro.html" title="Macro"
             >previous</a> |</li>
        <li><a href="../index.html">CcpNmr Analysis v2.3.0 documentation</a> &raquo;</li>
          <li><a href="../analysisDoc.html" >Program Documentation</a> &raquo;</li>
          <li><a href="../menu/Macro.html" >Macro</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2010, Tim Stevens, Wayne Boucher CCPN/Univeristy of Cambridge.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.0.4.
    </div>
  </body>
</html>